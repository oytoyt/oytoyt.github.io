function getQueryString(n){let o=new RegExp("(^|&)"+n+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(o);return null!=t?unescape(t[2]):null}const preUrl="http://119.23.136.26:7009";window.onload=function(){const n=getQueryString("openid"),o=`${preUrl}/api/activity/result`;$.get(o,function(o){console.log("获取中奖名单"),console.log(o);const{data:t,state:e}=o;if(1e3===e){let o="谢谢参与";t&&t.length>0&&t.forEach((t,e)=>{const{openid:l,ranking:i}=t;console.log(`名次 ${i}`),l===n&&(i>0&&$(".reward").css("display","block"),1===i||"1"===i?o="获得第一名":2===i||"2"===i?o="获得第二名":3!==i&&"3"!==i||(o="获得第三名")),$(".reward-info").html(o)})}}),$(".close-button").on("click",function(){console.log("关闭"),window.location.href=location.origin+"/index.html"})};